#include "mbed.h"
#include <cstdio>

// Serial connection (TX, RX) - connected to ST-Link Virtual COM Port
BufferedSerial pc(USBTX, USBRX, 115200);

// Onboard LED
DigitalOut led(LED1);

// Sample JSON data to send
const char* json_data[] = {
"{\"sequence\": 0, \"packets_lost\": 0, \"pitch\": -0.5293449844677379, \"roll\": -0.10706987674504166, \"yaw\": 89.60981613497488, \"distance\": 780.1305529253012, \"accel_x\": 0.17211905357168855, \"accel_y\": -0.13342596662785425, \"accel_z\": 9.797017444758243, \"timestamp\": 1744026643214}",
"{\"sequence\": 1, \"packets_lost\": 0, \"pitch\": -0.0321705500723332, \"roll\": -0.011776318708654587, \"yaw\": 91.79450946998195, \"distance\": 798.4268466825672, \"accel_x\": 0.2160161757902873, \"accel_y\": 0.08728539538632829, \"accel_z\": 9.661864634110138, \"timestamp\": 1744026643792}",
"{\"sequence\": 2, \"packets_lost\": 0, \"pitch\": -0.9036920933994756, \"roll\": 0.6498854799767092, \"yaw\": 97.23993163108196, \"distance\": 816.3930459889469, \"accel_x\": -0.14083064493031605, \"accel_y\": 0.007434304758765085, \"accel_z\": 9.875703274857381, \"timestamp\": 1744026643892}",
"{\"sequence\": 3, \"packets_lost\": 0, \"pitch\": 0.23000625888105966, \"roll\": -0.11811917110038825, \"yaw\": 97.13359840423871, \"distance\": 845.3356563570554, \"accel_x\": -0.15326960539217982, \"accel_y\": -0.11863228011810889, \"accel_z\": 9.61458225482982, \"timestamp\": 1744026643992}",
"{\"sequence\": 4, \"packets_lost\": 0, \"pitch\": -0.14086433393354592, \"roll\": 0.3425768192904828, \"yaw\": 100.75418140618424, \"distance\": 878.9388110784834, \"accel_x\": -0.043953692195649575, \"accel_y\": -0.1355022976409214, \"accel_z\": 9.797378396436761, \"timestamp\": 1744026644092}",
"{\"sequence\": 5, \"packets_lost\": 0, \"pitch\": -0.5178224150434663, \"roll\": -0.46660427288901096, \"yaw\": 105.39602189320847, \"distance\": 916.2225398177568, \"accel_x\": -0.08651360946763545, \"accel_y\": -0.10387722659396113, \"accel_z\": 9.54281125439795, \"timestamp\": 1744026644192}",
"{\"sequence\": 6, \"packets_lost\": 0, \"pitch\": 0.21681995549412425, \"roll\": -0.3880301340216996, \"yaw\": 107.86322177541997, \"distance\": 947.5975243646818, \"accel_x\": 0.12043451566068614, \"accel_y\": 0.0562989875732112, \"accel_z\": 9.887909167549973, \"timestamp\": 1744026644292}",
"{\"sequence\": 7, \"packets_lost\": 0, \"pitch\": 0.2479325481333523, \"roll\": -0.49559021901755573, \"yaw\": 109.39963582521713, \"distance\": 919.5684280897777, \"accel_x\": 0.04497349011553615, \"accel_y\": -0.04233035967278956, \"accel_z\": 9.666440592702383, \"timestamp\": 1744026644392}",
"{\"sequence\": 8, \"packets_lost\": 0, \"pitch\": -0.5251911360146384, \"roll\": 0.046040330235761096, \"yaw\": 113.15427695598295, \"distance\": 891.7545732496538, \"accel_x\": 0.12117197678862252, \"accel_y\": -0.11413706778191013, \"accel_z\": 9.691636520131144, \"timestamp\": 1744026644492}",
"{\"sequence\": 9, \"packets_lost\": 0, \"pitch\": -0.28644291086519197, \"roll\": -0.9904784214143578, \"yaw\": 115.5623851321619, \"distance\": 867.8034639244324, \"accel_x\": 0.08405081340813324, \"accel_y\": 0.03593493167571604, \"accel_z\": 10.139688046371829, \"timestamp\": 1744026644592}",
"{\"sequence\": 10, \"packets_lost\": 0, \"pitch\": -0.9141643206453132, \"roll\": -1.0104578478820816, \"yaw\": 119.0463535836411, \"distance\": 849.5882010967869, \"accel_x\": -0.15396588264476363, \"accel_y\": 0.12336766308666634, \"accel_z\": 10.033285537811745, \"timestamp\": 1744026644692}",
"{\"sequence\": 11, \"packets_lost\": 0, \"pitch\": -0.8378057197082223, \"roll\": -0.5839330121019992, \"yaw\": 124.28493427263172, \"distance\": 825.6288153262632, \"accel_x\": 0.06548185271145979, \"accel_y\": -0.013226363197825204, \"accel_z\": 10.021169575332449, \"timestamp\": 1744026644792}",
"{\"sequence\": 12, \"packets_lost\": 0, \"pitch\": -0.6298662279033368, \"roll\": -0.8749010813529396, \"yaw\": 128.49882836307697, \"distance\": 809.8982047439629, \"accel_x\": 0.10560082845999447, \"accel_y\": 0.1270316420394174, \"accel_z\": 9.441145691169783, \"timestamp\": 1744026644892}",
"{\"sequence\": 13, \"packets_lost\": 0, \"pitch\": -0.5703645393478222, \"roll\": -0.9631958528254975, \"yaw\": 128.2888410045621, \"distance\": 794.9039271879932, \"accel_x\": -0.057095447453851235, \"accel_y\": 0.053280012219351094, \"accel_z\": 9.875152810850082, \"timestamp\": 1744026644992}",
"{\"sequence\": 14, \"packets_lost\": 0, \"pitch\": -0.5896688007868086, \"roll\": -0.17932189678346394, \"yaw\": 131.83807413634938, \"distance\": 784.4005925951536, \"accel_x\": 0.1628651413219322, \"accel_y\": -0.011160607782626024, \"accel_z\": 9.746223506000419, \"timestamp\": 1744026645092}",
"{\"sequence\": 15, \"packets_lost\": 0, \"pitch\": -0.8019741241781216, \"roll\": -0.92461084060634, \"yaw\": 136.52791408019672, \"distance\": 772.4682676175358, \"accel_x\": 0.02085873409780482, \"accel_y\": 0.028506873812490716, \"accel_z\": 9.824431881216805, \"timestamp\": 1744026645192}",
"{\"sequence\": 16, \"packets_lost\": 0, \"pitch\": 0.7901831850707166, \"roll\": -0.48265897021274323, \"yaw\": 138.45173873956554, \"distance\": 762.613142765968, \"accel_x\": -0.038013030031429834, \"accel_y\": -0.08170517598609892, \"accel_z\": 9.740266042549594, \"timestamp\": 1744026645292}",
"{\"sequence\": 17, \"packets_lost\": 0, \"pitch\": -1.3643813039836052, \"roll\": -0.5875242482032625, \"yaw\": 142.26403274080505, \"distance\": 757.6020113931648, \"accel_x\": 0.15589995069426865, \"accel_y\": 0.12428536470017343, \"accel_z\": 9.692209658478365, \"timestamp\": 1744026645392}",
"{\"sequence\": 18, \"packets_lost\": 0, \"pitch\": -0.5505634950984335, \"roll\": -0.4881448660642903, \"yaw\": 142.46609633286585, \"distance\": 752.4757322173417, \"accel_x\": -0.01749171090839089, \"accel_y\": 0.001626221185412196, \"accel_z\": 9.769226498780855, \"timestamp\": 1744026645492}",
"{\"sequence\": 19, \"packets_lost\": 0, \"pitch\": -1.3134674286940693, \"roll\": -2.0548799201209604, \"yaw\": 147.18434823980232, \"distance\": 750.6085421967412, \"accel_x\": -0.0045234992482896565, \"accel_y\": -0.1700371354209403, \"accel_z\": 9.700088337845042, \"timestamp\": 1744026645592}",
"{\"sequence\": 20, \"packets_lost\": 0, \"pitch\": -0.19455470986946954, \"roll\": -1.3142263745672667, \"yaw\": 149.65392116975127, \"distance\": 754.3952299961458, \"accel_x\": 0.14413172540217886, \"accel_y\": -0.13364747483329711, \"accel_z\": 9.469766764378543, \"timestamp\": 1744026645692}",
"{\"sequence\": 21, \"packets_lost\": 0, \"pitch\": -0.6466341801002414, \"roll\": -0.7739350856668067, \"yaw\": 153.05765473585836, \"distance\": 755.9578086492332, \"accel_x\": 0.04287627171246664, \"accel_y\": 0.1428619210816608, \"accel_z\": 9.690762707000697, \"timestamp\": 1744026645792}",
"{\"sequence\": 22, \"packets_lost\": 0, \"pitch\": -0.973397421476959, \"roll\": -0.8204374092812636, \"yaw\": 155.48549035641804, \"distance\": 758.8631739482353, \"accel_x\": -0.0785872731881254, \"accel_y\": 0.05018629236284226, \"accel_z\": 10.024256308423581, \"timestamp\": 1744026645892}",
"{\"sequence\": 23, \"packets_lost\": 0, \"pitch\": -0.48329516207705475, \"roll\": -1.0768731947915926, \"yaw\": 159.64239832151773, \"distance\": 771.0464036503729, \"accel_x\": -0.018195623966199975, \"accel_y\": -0.027875933313757234, \"accel_z\": 9.9197002677952, \"timestamp\": 1744026645992}",
"{\"sequence\": 24, \"packets_lost\": 0, \"pitch\": -0.8122286286741733, \"roll\": -1.3129475962359805, \"yaw\": 160.95088044725097, \"distance\": 782.605297581204, \"accel_x\": 0.2269176345719998, \"accel_y\": 0.12411661494180266, \"accel_z\": 9.611589570726213, \"timestamp\": 1744026646092}",
"{\"sequence\": 25, \"packets_lost\": 0, \"pitch\": -0.6435395388248127, \"roll\": -1.3655546855024523, \"yaw\": 164.75548544516798, \"distance\": 799.7552180323697, \"accel_x\": 0.042736286298262004, \"accel_y\": -0.13243616886148077, \"accel_z\": 9.812708257272487, \"timestamp\": 1744026646192}",
"{\"sequence\": 26, \"packets_lost\": 0, \"pitch\": -1.284221015627967, \"roll\": -0.8733514701458002, \"yaw\": 169.78207558399023, \"distance\": 823.0282672017321, \"accel_x\": -0.06863057294531923, \"accel_y\": -0.01163002044708586, \"accel_z\": 9.845905612724499, \"timestamp\": 1744026646292}",
"{\"sequence\": 27, \"packets_lost\": 0, \"pitch\": -1.0662757731680002, \"roll\": -1.3562579882602606, \"yaw\": 172.5296140255919, \"distance\": 842.5729419766874, \"accel_x\": -0.06461529705425843, \"accel_y\": -0.13839194688839504, \"accel_z\": 9.796648370210407, \"timestamp\": 1744026646392}",
"{\"sequence\": 28, \"packets_lost\": 0, \"pitch\": -1.479107302914176, \"roll\": -2.177186075518074, \"yaw\": 174.6622874607838, \"distance\": 877.3400200655567, \"accel_x\": -0.15792768301751403, \"accel_y\": 0.008234057108443153, \"accel_z\": 9.882366693388743, \"timestamp\": 1744026646492}",
"{\"sequence\": 29, \"packets_lost\": 0, \"pitch\": -0.9418065398453921, \"roll\": -1.523183606056408, \"yaw\": 175.56591611707293, \"distance\": 912.4358162437185, \"accel_x\": 0.05280078963555233, \"accel_y\": 0.13187500691803786, \"accel_z\": 9.816980550276224, \"timestamp\": 1744026646592}",
"{\"sequence\": 30, \"packets_lost\": 0, \"pitch\": -0.8099602520835223, \"roll\": -1.6607007040570947, \"yaw\": 181.06900799878227, \"distance\": 947.7723193939681, \"accel_x\": -0.11722500978039925, \"accel_y\": -0.0509726796497251, \"accel_z\": 9.656731436285138, \"timestamp\": 1744026646692}",
"{\"sequence\": 31, \"packets_lost\": 0, \"pitch\": -1.0835902767616599, \"roll\": -1.4607911841815417, \"yaw\": 184.44262542796432, \"distance\": 917.1107721918858, \"accel_x\": 0.08018054849111314, \"accel_y\": 0.09181598016732152, \"accel_z\": 9.723960494722752, \"timestamp\": 1744026646792}",
"{\"sequence\": 32, \"packets_lost\": 0, \"pitch\": -1.1393102916223952, \"roll\": -1.4821035760003953, \"yaw\": 186.60178337757085, \"distance\": 888.2526394083161, \"accel_x\": 0.11558615560267015, \"accel_y\": 0.11140160030474622, \"accel_z\": 10.002901702130101, \"timestamp\": 1744026646892}",
"{\"sequence\": 33, \"packets_lost\": 0, \"pitch\": -1.218546034204095, \"roll\": -2.191540661479149, \"yaw\": 188.51755897106707, \"distance\": 868.9910504847745, \"accel_x\": -0.010339184699631443, \"accel_y\": 0.12192251516920577, \"accel_z\": 9.79737068134792, \"timestamp\": 1744026646992}",
"{\"sequence\": 34, \"packets_lost\": 0, \"pitch\": -1.3200966716959894, \"roll\": -1.71767338067699, \"yaw\": 191.16026866813925, \"distance\": 846.007635790299, \"accel_x\": -0.018994515437723573, \"accel_y\": -0.039373378695624614, \"accel_z\": 9.502989995674962, \"timestamp\": 1744026647092}",
"{\"sequence\": 35, \"packets_lost\": 0, \"pitch\": -1.5770693632608421, \"roll\": -1.6548793829386113, \"yaw\": 196.72174101156358, \"distance\": 825.2824660261963, \"accel_x\": 0.023867132820618107, \"accel_y\": -0.0968372482205586, \"accel_z\": 9.54737133913386, \"timestamp\": 1744026647192}",
"{\"sequence\": 36, \"packets_lost\": 0, \"pitch\": -1.4592263950198257, \"roll\": -1.7034220835397793, \"yaw\": 197.06406021403356, \"distance\": 808.3946688094136, \"accel_x\": -0.07202628923752942, \"accel_y\": 0.08824263456657848, \"accel_z\": 9.738245506354383, \"timestamp\": 1744026647292}",
"{\"sequence\": 37, \"packets_lost\": 0, \"pitch\": -0.8968947492240102, \"roll\": -1.6523785220241207, \"yaw\": 202.04870081069225, \"distance\": 793.3221421356762, \"accel_x\": -0.18743495121068632, \"accel_y\": -0.11732634072556479, \"accel_z\": 9.728817589390504, \"timestamp\": 1744026647392}",
"{\"sequence\": 38, \"packets_lost\": 0, \"pitch\": -1.0534165937629159, \"roll\": -1.2978822685110754, \"yaw\": 203.90186862917187, \"distance\": 782.3020223472298, \"accel_x\": 0.1520004765608978, \"accel_y\": -0.07837609014711615, \"accel_z\": 9.954936199445994, \"timestamp\": 1744026647492}",
"{\"sequence\": 39, \"packets_lost\": 0, \"pitch\": -1.1270793170419666, \"roll\": -1.7289370135965263, \"yaw\": 207.56267979470178, \"distance\": 773.6061209944264, \"accel_x\": 0.014342573352277564, \"accel_y\": -0.007060499292293143, \"accel_z\": 9.693302957281166, \"timestamp\": 1744026647592}",
"{\"sequence\": 40, \"packets_lost\": 0, \"pitch\": -1.0232831657786892, \"roll\": -1.5078496795681142, \"yaw\": 209.5909439281239, \"distance\": 765.8544537463359, \"accel_x\": -0.02686161166234373, \"accel_y\": 0.1117416162951197, \"accel_z\": 9.979064368093997, \"timestamp\": 1744026647692}",
"{\"sequence\": 41, \"packets_lost\": 0, \"pitch\": -0.905699021976476, \"roll\": -0.5959422381621742, \"yaw\": 212.45418255671814, \"distance\": 762.4548584615577, \"accel_x\": -0.014072316323672677, \"accel_y\": -0.04664633976576461, \"accel_z\": 9.778635236234383, \"timestamp\": 1744026647792}",
"{\"sequence\": 42, \"packets_lost\": 0, \"pitch\": -0.17102764775202872, \"roll\": -1.4136065152823707, \"yaw\": 217.22013834559564, \"distance\": 752.26425383002, \"accel_x\": -0.10420391255744121, \"accel_y\": -0.058163325707701774, \"accel_z\": 9.9948317122509, \"timestamp\": 1744026647892}",
"{\"sequence\": 43, \"packets_lost\": 0, \"pitch\": -1.0837627731864927, \"roll\": -1.4162032684878947, \"yaw\": 220.0113168128911, \"distance\": 753.8849096933975, \"accel_x\": -0.04698199841148652, \"accel_y\": 0.028374980108643533, \"accel_z\": 9.917258375720682, \"timestamp\": 1744026647992}",
"{\"sequence\": 44, \"packets_lost\": 0, \"pitch\": -0.873442011768198, \"roll\": -1.2668898326927949, \"yaw\": 220.2569992451676, \"distance\": 753.9438325601236, \"accel_x\": 0.1070935050406537, \"accel_y\": -0.00534960319100922, \"accel_z\": 9.859593436145339, \"timestamp\": 1744026648092}",
"{\"sequence\": 45, \"packets_lost\": 0, \"pitch\": -1.019557313345413, \"roll\": -1.5222932809736147, \"yaw\": 224.51602665598605, \"distance\": 755.5027026589532, \"accel_x\": -0.21220800062618297, \"accel_y\": 0.03657001306518059, \"accel_z\": 9.886859117116883, \"timestamp\": 1744026648192}",
"{\"sequence\": 46, \"packets_lost\": 0, \"pitch\": -1.3971662572031582, \"roll\": -1.38199700382672, \"yaw\": 228.0753512999801, \"distance\": 759.4308439886005, \"accel_x\": 0.07573524072566708, \"accel_y\": 0.017877277073681763, \"accel_z\": 9.896000706744267, \"timestamp\": 1744026648292}",
"{\"sequence\": 47, \"packets_lost\": 0, \"pitch\": -1.1886043875075376, \"roll\": -1.4202449871615341, \"yaw\": 232.31874254620004, \"distance\": 771.3531552819024, \"accel_x\": -0.029163247974347918, \"accel_y\": 0.048181427614809036, \"accel_z\": 9.844309268653435, \"timestamp\": 1744026648392}",
"{\"sequence\": 48, \"packets_lost\": 0, \"pitch\": -1.0570609358111123, \"roll\": -1.1939514125182011, \"yaw\": 233.9511898165642, \"distance\": 784.469067272299, \"accel_x\": -0.19252426740318812, \"accel_y\": -0.03382382556393301, \"accel_z\": 10.07833312565477, \"timestamp\": 1744026648492}",
"{\"sequence\": 49, \"packets_lost\": 0, \"pitch\": -2.1227295471217804, \"roll\": -0.6818731171847175, \"yaw\": 236.11066529553116, \"distance\": 799.5843463015285, \"accel_x\": 0.040265493174555245, \"accel_y\": 0.03207334330136263, \"accel_z\": 10.124040987183456, \"timestamp\": 1744026648592}",
"{\"sequence\": 50, \"packets_lost\": 0, \"pitch\": -2.0797516867380255, \"roll\": -1.4007926559358528, \"yaw\": 239.54624420631293, \"distance\": 821.1112796143362, \"accel_x\": 0.01277219216981796, \"accel_y\": 0.10388207002200481, \"accel_z\": 10.227946982056563, \"timestamp\": 1744026648692}",
"{\"sequence\": 51, \"packets_lost\": 0, \"pitch\": -1.5130759484271796, \"roll\": -0.9633160631623363, \"yaw\": 242.9350319107977, \"distance\": 842.9234003525876, \"accel_x\": 0.1225580191727838, \"accel_y\": 0.03852950200184181, \"accel_z\": 10.149951672272271, \"timestamp\": 1744026648792}",
"{\"sequence\": 52, \"packets_lost\": 0, \"pitch\": -1.4252026741956447, \"roll\": -0.8744143154307897, \"yaw\": 245.66011445426093, \"distance\": 879.8365983015323, \"accel_x\": -0.005213825788706623, \"accel_y\": 0.02958600625681875, \"accel_z\": 9.97682916185434, \"timestamp\": 1744026648892}",
"{\"sequence\": 53, \"packets_lost\": 0, \"pitch\": -0.715232078031762, \"roll\": -1.5670658227586272, \"yaw\": 249.71853228146972, \"distance\": 913.368037324783, \"accel_x\": 0.0543103194698768, \"accel_y\": 0.011526273038964396, \"accel_z\": 9.780321491241658, \"timestamp\": 1744026648992}",
"{\"sequence\": 54, \"packets_lost\": 0, \"pitch\": -1.2697294810027024, \"roll\": -0.45090793421392455, \"yaw\": 251.67332855995372, \"distance\": 949.3222729764774, \"accel_x\": 0.0991506383760016, \"accel_y\": -0.046018045569010436, \"accel_z\": 9.760041860553075, \"timestamp\": 1744026649092}",
"{\"sequence\": 55, \"packets_lost\": 0, \"pitch\": -0.4497305464106339, \"roll\": -0.5154409168545029, \"yaw\": 254.26419101948366, \"distance\": 915.4937003183212, \"accel_x\": 0.039448931984263004, \"accel_y\": 0.15559591700046582, \"accel_z\": 9.764578697445103, \"timestamp\": 1744026649192}",
"{\"sequence\": 56, \"packets_lost\": 0, \"pitch\": -0.5477255614002072, \"roll\": -0.8288819894841477, \"yaw\": 258.38263737677835, \"distance\": 889.060658467093, \"accel_x\": 0.009751827560938259, \"accel_y\": 0.05135435394513269, \"accel_z\": 9.762762114222168, \"timestamp\": 1744026649292}",
"{\"sequence\": 57, \"packets_lost\": 0, \"pitch\": -0.4561488249993439, \"roll\": -1.33094790551859, \"yaw\": 258.8132338551755, \"distance\": 869.7560187096119, \"accel_x\": -0.026446137592211906, \"accel_y\": 0.028955429436156355, \"accel_z\": 9.885756686654762, \"timestamp\": 1744026649392}",
"{\"sequence\": 58, \"packets_lost\": 0, \"pitch\": -0.5463395878373236, \"roll\": -0.7233031961458105, \"yaw\": 262.8557908622387, \"distance\": 841.6561496147043, \"accel_x\": -0.030641176268817846, \"accel_y\": 0.15012913843509454, \"accel_z\": 9.878603590419262, \"timestamp\": 1744026649492}",
"{\"sequence\": 59, \"packets_lost\": 0, \"pitch\": -1.0048000053682875, \"roll\": -0.9032477876266958, \"yaw\": 266.6507383286373, \"distance\": 825.6606699473954, \"accel_x\": 0.014172972379741706, \"accel_y\": -0.11133012079515414, \"accel_z\": 9.975767439461977, \"timestamp\": 1744026649592}",
"{\"sequence\": 60, \"packets_lost\": 0, \"pitch\": -0.2261936440459833, \"roll\": -0.7179313158720404, \"yaw\": 271.271740634722, \"distance\": 810.5791687846612, \"accel_x\": -0.08470309478862847, \"accel_y\": -0.04306032661357643, \"accel_z\": 9.62243156442871, \"timestamp\": 1744026649692}",
"{\"sequence\": 61, \"packets_lost\": 0, \"pitch\": -0.3661296775563162, \"roll\": -0.1539612989959579, \"yaw\": 273.352418964688, \"distance\": 794.5479706536784, \"accel_x\": -0.02396440296495626, \"accel_y\": 0.04619710109875349, \"accel_z\": 9.899620230270903, \"timestamp\": 1744026649792}",
"{\"sequence\": 62, \"packets_lost\": 0, \"pitch\": -0.9796005693300999, \"roll\": -0.5685004414958676, \"yaw\": 277.03279310697445, \"distance\": 780.2126163614291, \"accel_x\": 0.14030652515625633, \"accel_y\": 0.0322536559971259, \"accel_z\": 9.786618501588366, \"timestamp\": 1744026649892}",
"{\"sequence\": 63, \"packets_lost\": 0, \"pitch\": -1.1256174450762173, \"roll\": -0.2395378317961656, \"yaw\": 279.23222872293906, \"distance\": 772.208104148041, \"accel_x\": -0.02621457854554454, \"accel_y\": 0.2796740229114362, \"accel_z\": 9.49219992930072, \"timestamp\": 1744026649993}",
"{\"sequence\": 64, \"packets_lost\": 0, \"pitch\": -1.8219996412062938, \"roll\": -0.6825780941620327, \"yaw\": 283.503234490145, \"distance\": 765.6493383741923, \"accel_x\": 0.10981687617805908, \"accel_y\": 0.06440025506950546, \"accel_z\": 9.83100663501701, \"timestamp\": 1744026650093}",
"{\"sequence\": 65, \"packets_lost\": 0, \"pitch\": -0.9017135615813272, \"roll\": -0.6407378251480933, \"yaw\": 287.01494796661444, \"distance\": 758.932012527465, \"accel_x\": 0.04875372841553843, \"accel_y\": -0.04005026203851139, \"accel_z\": 10.026989374612063, \"timestamp\": 1744026650193}",
"{\"sequence\": 66, \"packets_lost\": 0, \"pitch\": -1.4544067113325267, \"roll\": -0.9545648798979963, \"yaw\": 287.49734511982115, \"distance\": 753.9960077632232, \"accel_x\": 0.0936626537267004, \"accel_y\": -0.03744669628808769, \"accel_z\": 9.910804813817197, \"timestamp\": 1744026650293}",
"{\"sequence\": 67, \"packets_lost\": 0, \"pitch\": -0.9084311590921867, \"roll\": -0.4744559290179997, \"yaw\": 292.0221467681218, \"distance\": 752.477175678243, \"accel_x\": -0.06101077783856158, \"accel_y\": 0.21953664782248597, \"accel_z\": 9.666953719435016, \"timestamp\": 1744026650393}",
"{\"sequence\": 68, \"packets_lost\": 0, \"pitch\": -1.1893061804720915, \"roll\": -0.5589410269957339, \"yaw\": 294.55163128855713, \"distance\": 750.4525392937234, \"accel_x\": 0.051564019696657304, \"accel_y\": 0.1980767633597411, \"accel_z\": 9.988293011869034, \"timestamp\": 1744026650493}",
"{\"sequence\": 69, \"packets_lost\": 0, \"pitch\": -1.2928107989369413, \"roll\": -0.7410862136318066, \"yaw\": 297.03675648734554, \"distance\": 753.6022905514047, \"accel_x\": -0.02385804161076619, \"accel_y\": -0.1253231591505771, \"accel_z\": 9.692046550865886, \"timestamp\": 1744026650593}",
"{\"sequence\": 70, \"packets_lost\": 0, \"pitch\": -0.4175821876950342, \"roll\": -0.07059519005380421, \"yaw\": 300.80966955760806, \"distance\": 760.8685483600494, \"accel_x\": 0.014875858359429514, \"accel_y\": -0.046355088130808283, \"accel_z\": 9.955508694337228, \"timestamp\": 1744026650693}",
"{\"sequence\": 71, \"packets_lost\": 0, \"pitch\": -0.46789874553314215, \"roll\": -1.0664483798663018, \"yaw\": 303.59344611178875, \"distance\": 768.181592319499, \"accel_x\": -0.1138390591735671, \"accel_y\": -0.13632217632634655, \"accel_z\": 9.660824286950191, \"timestamp\": 1744026650793}",
"{\"sequence\": 72, \"packets_lost\": 0, \"pitch\": -1.149933609365682, \"roll\": -0.4843093051601028, \"yaw\": 303.8446449340641, \"distance\": 776.4396701584374, \"accel_x\": -0.0797539294885381, \"accel_y\": -0.11945712173942745, \"accel_z\": 9.842773425923486, \"timestamp\": 1744026650893}",
"{\"sequence\": 73, \"packets_lost\": 0, \"pitch\": -1.2562790581081913, \"roll\": -0.9054178652595697, \"yaw\": 308.0954829586681, \"distance\": 798.7223462217062, \"accel_x\": 0.05753989425684154, \"accel_y\": -0.2216341425546022, \"accel_z\": 9.724734742598455, \"timestamp\": 1744026650993}",
"{\"sequence\": 74, \"packets_lost\": 0, \"pitch\": -1.1420607321889105, \"roll\": -0.7945458994212233, \"yaw\": 312.38592121522396, \"distance\": 816.3979470726259, \"accel_x\": 0.08033036495844695, \"accel_y\": -0.17093630615844368, \"accel_z\": 9.951307389605173, \"timestamp\": 1744026651093}",
"{\"sequence\": 75, \"packets_lost\": 0, \"pitch\": -0.6242805642009646, \"roll\": -0.3922090166895519, \"yaw\": 317.08046973296666, \"distance\": 841.5076153799278, \"accel_x\": 0.025080636945461362, \"accel_y\": -0.05327979960182097, \"accel_z\": 9.845745973624906, \"timestamp\": 1744026651193}",
"{\"sequence\": 76, \"packets_lost\": 0, \"pitch\": -0.8094458925704107, \"roll\": -1.1019679253079822, \"yaw\": 317.20735648384624, \"distance\": 876.6878952085693, \"accel_x\": -0.1544877463805283, \"accel_y\": -0.1737819047667398, \"accel_z\": 10.250782163844312, \"timestamp\": 1744026651293}",
"{\"sequence\": 77, \"packets_lost\": 0, \"pitch\": -0.31945334353931326, \"roll\": -1.0238563316428855, \"yaw\": 321.0787433182735, \"distance\": 915.4982185241201, \"accel_x\": 0.08297574555807992, \"accel_y\": -0.03070837739340151, \"accel_z\": 9.837399526325706, \"timestamp\": 1744026651393}",
"{\"sequence\": 78, \"packets_lost\": 0, \"pitch\": -0.1856022403313407, \"roll\": -1.0363996202940078, \"yaw\": 322.6905839655341, \"distance\": 945.6145303455846, \"accel_x\": -0.15052269984625785, \"accel_y\": -0.0725683002735017, \"accel_z\": 9.80919310328928, \"timestamp\": 1744026651493}",
"{\"sequence\": 79, \"packets_lost\": 0, \"pitch\": -0.8188522091641263, \"roll\": -0.35406679203079966, \"yaw\": 325.8855518625463, \"distance\": 913.7191941913651, \"accel_x\": 0.01199597510626933, \"accel_y\": 0.0484586944541774, \"accel_z\": 9.711051332514083, \"timestamp\": 1744026651593}",
"{\"sequence\": 80, \"packets_lost\": 0, \"pitch\": -1.0753082356241932, \"roll\": -1.0984335812919281, \"yaw\": 330.71934985318956, \"distance\": 892.9619112321038, \"accel_x\": -0.16480605778572488, \"accel_y\": 0.06741572315459572, \"accel_z\": 9.944759300600603, \"timestamp\": 1744026651693}",
"{\"sequence\": 81, \"packets_lost\": 0, \"pitch\": -1.212950260680671, \"roll\": -1.1577538968406198, \"yaw\": 333.00406195810393, \"distance\": 869.1742403759905, \"accel_x\": 0.045730612931913876, \"accel_y\": -0.03514822115923135, \"accel_z\": 9.67552174445467, \"timestamp\": 1744026651793}",
"{\"sequence\": 82, \"packets_lost\": 0, \"pitch\": 0.0256917526558067, \"roll\": -0.6164533631240978, \"yaw\": 335.72008759092444, \"distance\": 843.3168758627907, \"accel_x\": 0.07840132098391188, \"accel_y\": 0.21423138344181117, \"accel_z\": 10.035071401120039, \"timestamp\": 1744026651893}",
"{\"sequence\": 83, \"packets_lost\": 0, \"pitch\": -1.421670022232991, \"roll\": -0.21968959056489862, \"yaw\": 337.2811954324295, \"distance\": 823.8049292746174, \"accel_x\": 0.08831960523968824, \"accel_y\": 0.14281823683157321, \"accel_z\": 10.006719910285646, \"timestamp\": 1744026651993}",
"{\"sequence\": 84, \"packets_lost\": 0, \"pitch\": -0.4399354766969219, \"roll\": -0.39889909473309904, \"yaw\": 341.15900714473594, \"distance\": 808.5090638169303, \"accel_x\": -0.12154789538219404, \"accel_y\": 0.12931301939494327, \"accel_z\": 9.950337752967238, \"timestamp\": 1744026652093}",
"{\"sequence\": 85, \"packets_lost\": 0, \"pitch\": -1.251766658152123, \"roll\": -0.9013247531708243, \"yaw\": 345.1241671465983, \"distance\": 794.3047321180052, \"accel_x\": -0.07094196434076226, \"accel_y\": 0.013876443006747625, \"accel_z\": 10.043352230090914, \"timestamp\": 1744026652193}",
"{\"sequence\": 86, \"packets_lost\": 0, \"pitch\": -1.1336472320427171, \"roll\": -0.5983887865899754, \"yaw\": 348.7108272492131, \"distance\": 784.4115637141838, \"accel_x\": 0.12428065211457516, \"accel_y\": 0.10616103609116496, \"accel_z\": 9.794516974383754, \"timestamp\": 1744026652293}",
"{\"sequence\": 87, \"packets_lost\": 0, \"pitch\": -0.5333490479619473, \"roll\": -0.7541904788129445, \"yaw\": 351.1674255708621, \"distance\": 771.2175305942928, \"accel_x\": -0.20250334936527842, \"accel_y\": -0.008029764254995629, \"accel_z\": 10.16169828439675, \"timestamp\": 1744026652393}",
"{\"sequence\": 88, \"packets_lost\": 0, \"pitch\": -1.2049061358520607, \"roll\": -0.4271890465120151, \"yaw\": 354.1962652372455, \"distance\": 762.9529731098834, \"accel_x\": -0.022917543842377194, \"accel_y\": -0.03572584451151681, \"accel_z\": 9.812077303526, \"timestamp\": 1744026652493}",
"{\"sequence\": 89, \"packets_lost\": 0, \"pitch\": -0.6321445499791187, \"roll\": -1.3468695067497891, \"yaw\": 355.1672858920795, \"distance\": 761.0916779895797, \"accel_x\": 0.11131785909055646, \"accel_y\": -0.036008963785530944, \"accel_z\": 9.785574597532111, \"timestamp\": 1744026652593}",
"{\"sequence\": 90, \"packets_lost\": 0, \"pitch\": -1.8341125537303689, \"roll\": -0.7029438708755816, \"yaw\": 1.911506817192412, \"distance\": 754.0377994797092, \"accel_x\": 0.15887977938378578, \"accel_y\": 0.03125212848567367, \"accel_z\": 9.882400160532018, \"timestamp\": 1744026652693}",
"{\"sequence\": 91, \"packets_lost\": 0, \"pitch\": -1.1149598659037532, \"roll\": -0.6109452505189598, \"yaw\": 2.301594440126235, \"distance\": 749.53794426557, \"accel_x\": -0.12400593236995182, \"accel_y\": 0.03620127681054399, \"accel_z\": 10.013737250787882, \"timestamp\": 1744026652793}",
"{\"sequence\": 92, \"packets_lost\": 0, \"pitch\": -0.9699148764227893, \"roll\": -0.8480987551352293, \"yaw\": 5.39879266787554, \"distance\": 753.2852974514435, \"accel_x\": 0.19964888317256968, \"accel_y\": -0.06612469243904666, \"accel_z\": 10.108663407482794, \"timestamp\": 1744026652893}",
"{\"sequence\": 93, \"packets_lost\": 0, \"pitch\": -0.33148238811570885, \"roll\": -1.219544099629764, \"yaw\": 8.546964870341196, \"distance\": 754.2692034375176, \"accel_x\": 0.05174799532983936, \"accel_y\": -0.08302359854054023, \"accel_z\": 9.599155516421153, \"timestamp\": 1744026652993}",
"{\"sequence\": 94, \"packets_lost\": 0, \"pitch\": -0.8696354847806106, \"roll\": -0.7279969196655919, \"yaw\": 14.992202094166252, \"distance\": 761.4603765114675, \"accel_x\": 0.004569895489796582, \"accel_y\": -0.1250096149879116, \"accel_z\": 9.538228922231726, \"timestamp\": 1744026653093}",
"{\"sequence\": 95, \"packets_lost\": 0, \"pitch\": -0.3036302256447182, \"roll\": -1.3201709791877643, \"yaw\": 15.278213125750055, \"distance\": 766.8793643141844, \"accel_x\": 0.07413661451383012, \"accel_y\": -0.018961279997372342, \"accel_z\": 10.066151876099433, \"timestamp\": 1744026653193}",
"{\"sequence\": 96, \"packets_lost\": 0, \"pitch\": -0.9975737602631445, \"roll\": -1.2350716683718739, \"yaw\": 18.87917305580539, \"distance\": 781.754067032038, \"accel_x\": -0.11709686935200957, \"accel_y\": -0.10862021603685326, \"accel_z\": 9.779654888029947, \"timestamp\": 1744026653293}",
"{\"sequence\": 97, \"packets_lost\": 0, \"pitch\": -0.1632734397483651, \"roll\": -0.8624219897764746, \"yaw\": 20.93131201179994, \"distance\": 800.9617757793865, \"accel_x\": -0.05991829870324893, \"accel_y\": 0.025386649091499222, \"accel_z\": 9.233368616654523, \"timestamp\": 1744026653393}",
"{\"sequence\": 98, \"packets_lost\": 0, \"pitch\": 0.04487408283182509, \"roll\": -0.5015553918074716, \"yaw\": 23.04737248364683, \"distance\": 818.4347294164729, \"accel_x\": 0.07802469085553665, \"accel_y\": -0.013840848395929209, \"accel_z\": 9.812327171926741, \"timestamp\": 1744026653493}",
"{\"sequence\": 99, \"packets_lost\": 0, \"pitch\": -0.08541246545273984, \"roll\": -1.0316383071477238, \"yaw\": 28.009631361470337, \"distance\": 843.0647906618321, \"accel_x\": -0.010754144277975193, \"accel_y\": -0.07229578793833417, \"accel_z\": 9.624971583985653, \"timestamp\": 1744026653593}",
"{\"sequence\": 100, \"packets_lost\": 0, \"pitch\": -0.2714113053077489, \"roll\": -0.6646244890145676, \"yaw\": 28.811076977151835, \"distance\": 875.8661044395589, \"accel_x\": -0.21308871582628416, \"accel_y\": -0.03429099447171939, \"accel_z\": 10.119360790348704, \"timestamp\": 1744026653693}",
"{\"sequence\": 101, \"packets_lost\": 0, \"pitch\": -0.16424804872344137, \"roll\": -0.9234821131570594, \"yaw\": 33.91013730329869, \"distance\": 916.4107725599029, \"accel_x\": -0.004779970740032973, \"accel_y\": 0.07359513120654558, \"accel_z\": 9.939421987951972, \"timestamp\": 1744026653793}",
"{\"sequence\": 102, \"packets_lost\": 0, \"pitch\": -0.9705939368132614, \"roll\": -1.5983034058068784, \"yaw\": 35.55200308972681, \"distance\": 948.4322067540546, \"accel_x\": 0.14187036368252245, \"accel_y\": 0.04823279191801733, \"accel_z\": 9.406947533207564, \"timestamp\": 1744026653893}",
"{\"sequence\": 103, \"packets_lost\": 0, \"pitch\": -0.3540614844809326, \"roll\": -1.019942186969036, \"yaw\": 38.793022221672985, \"distance\": 916.9172616620865, \"accel_x\": 0.04179474319922565, \"accel_y\": 0.08813838603127788, \"accel_z\": 9.625986455536816, \"timestamp\": 1744026653993}",
"{\"sequence\": 104, \"packets_lost\": 0, \"pitch\": 0.19308258633395065, \"roll\": -1.0434444180064921, \"yaw\": 41.50329418447291, \"distance\": 890.3632260178715, \"accel_x\": -0.0509617807599315, \"accel_y\": -0.0697407604724545, \"accel_z\": 9.808349895679358, \"timestamp\": 1744026654093}",
"{\"sequence\": 105, \"packets_lost\": 0, \"pitch\": 0.2052525746103956, \"roll\": -1.31671927023074, \"yaw\": 43.356968386157305, \"distance\": 866.2570156604368, \"accel_x\": 0.0513648149644641, \"accel_y\": -0.1168175049269018, \"accel_z\": 10.192739496714042, \"timestamp\": 1744026654193}",
"{\"sequence\": 106, \"packets_lost\": 0, \"pitch\": -0.5960754378750296, \"roll\": -1.4038076229180747, \"yaw\": 47.4877245172215, \"distance\": 844.4368360802297, \"accel_x\": 0.05553657077714225, \"accel_y\": -0.06304290564715326, \"accel_z\": 10.21026927062762, \"timestamp\": 1744026654293}",
"{\"sequence\": 107, \"packets_lost\": 0, \"pitch\": -0.16324673881907903, \"roll\": -1.0689491273099907, \"yaw\": 52.77110497884369, \"distance\": 825.572187869394, \"accel_x\": 0.08471928497608533, \"accel_y\": -0.15762538189128109, \"accel_z\": 9.778423586780972, \"timestamp\": 1744026654393}",
"{\"sequence\": 108, \"packets_lost\": 0, \"pitch\": -0.5805673989157022, \"roll\": -1.216460298289379, \"yaw\": 52.631796617283236, \"distance\": 809.7820412653042, \"accel_x\": 0.17695503409256533, \"accel_y\": 0.14929217206051812, \"accel_z\": 9.424585518924731, \"timestamp\": 1744026654493}",
"{\"sequence\": 109, \"packets_lost\": 0, \"pitch\": -0.08105968337631664, \"roll\": -1.3787609404781653, \"yaw\": 55.664237619759945, \"distance\": 795.2456753371325, \"accel_x\": -0.011577931892150936, \"accel_y\": -0.03322007376646076, \"accel_z\": 9.70522471678367, \"timestamp\": 1744026654593}",
"{\"sequence\": 110, \"packets_lost\": 0, \"pitch\": -0.3724916771683862, \"roll\": -1.8547364036839409, \"yaw\": 60.23490007898878, \"distance\": 784.3110018440349, \"accel_x\": -0.08267842874000648, \"accel_y\": 0.038125138162984434, \"accel_z\": 9.847507231573664, \"timestamp\": 1744026654693}",
"{\"sequence\": 111, \"packets_lost\": 0, \"pitch\": -0.5987881233597869, \"roll\": -0.6766092197024367, \"yaw\": 60.968898611996465, \"distance\": 770.4557883506235, \"accel_x\": -0.04044831677653578, \"accel_y\": -0.1372920873600486, \"accel_z\": 10.02430594637066, \"timestamp\": 1744026654793}",
"{\"sequence\": 112, \"packets_lost\": 0, \"pitch\": -0.49787268537967, \"roll\": -1.1592956389457552, \"yaw\": 64.98957565997117, \"distance\": 765.6360231001381, \"accel_x\": 0.009663012314178803, \"accel_y\": -0.04249681300605425, \"accel_z\": 9.409258007281071, \"timestamp\": 1744026654893}",
"{\"sequence\": 113, \"packets_lost\": 0, \"pitch\": -0.5759272268823288, \"roll\": -0.9450071252053438, \"yaw\": 69.80711181136842, \"distance\": 756.9774752589188, \"accel_x\": 0.06070910964426614, \"accel_y\": -0.14428276773453483, \"accel_z\": 9.743951110230125, \"timestamp\": 1744026654993}",
"{\"sequence\": 114, \"packets_lost\": 0, \"pitch\": -0.2287162544510155, \"roll\": -0.6762914638130937, \"yaw\": 71.51159424200172, \"distance\": 756.3842903299, \"accel_x\": -0.0071315526796071815, \"accel_y\": -0.09875672225695964, \"accel_z\": 9.506096736167805, \"timestamp\": 1744026655093}",
"{\"sequence\": 115, \"packets_lost\": 0, \"pitch\": -1.0883112090247282, \"roll\": -0.9886956368408206, \"yaw\": 74.11432236634947, \"distance\": 749.7976880731494, \"accel_x\": 0.03589548605807644, \"accel_y\": -0.036448960366750396, \"accel_z\": 9.711974737519352, \"timestamp\": 1744026655193}",
"{\"sequence\": 116, \"packets_lost\": 0, \"pitch\": -0.5436516597294827, \"roll\": -1.0709395362192342, \"yaw\": 76.92411853743769, \"distance\": 747.4543570911471, \"accel_x\": 0.021608496716003487, \"accel_y\": 0.017913881581286133, \"accel_z\": 9.900831026640086, \"timestamp\": 1744026655293}",
"{\"sequence\": 117, \"packets_lost\": 0, \"pitch\": -0.5709999163057403, \"roll\": -0.9544019083444036, \"yaw\": 81.3582160725762, \"distance\": 754.5793719064321, \"accel_x\": -0.2720542551217319, \"accel_y\": -0.006708659565679985, \"accel_z\": 9.708123341021233, \"timestamp\": 1744026655393}",
"{\"sequence\": 118, \"packets_lost\": 0, \"pitch\": -0.682917977732385, \"roll\": -1.8468872505284013, \"yaw\": 84.14292670755712, \"distance\": 759.754919185803, \"accel_x\": 0.06660369275291439, \"accel_y\": -0.07295536324984465, \"accel_z\": 10.142199300145668, \"timestamp\": 1744026655493}",
"{\"sequence\": 119, \"packets_lost\": 0, \"pitch\": -0.8314016468269164, \"roll\": -0.762626630132025, \"yaw\": 89.06593246513438, \"distance\": 769.290475454375, \"accel_x\": 0.11079008479707989, \"accel_y\": -0.18200090497658195, \"accel_z\": 10.18761761405436, \"timestamp\": 1744026655593}"
};

size_t get_string_size(const char* str) {
    size_t size = 0;
    while (str[size] != '\0') {  // Keep counting until the null terminator is reached
        size++;
    }
    return size;
}

const int json_data_count = sizeof(json_data) / sizeof(json_data[0]);

void send_json_data(const char* json_str, size_t len) {
    // Send over serial
    pc.write(json_str, len);
    
    // Add newline
    const char* newline = "\r\n";
    pc.write(newline, 2);
    
    // Brief LED blink on successful transmission
    led = 1;
    wait_us(100000); // 100ms
    led = 0;
}

int main() {
    // Blink LED once at startup
    led = 1;
    ThisThread::sleep_for(100ms);
    led = 0;
    
    int counter = 0;
    
    while (true) {
        // Send the current JSON data with its corresponding length
        size_t length = get_string_size(json_data[counter % json_data_count]);
        send_json_data(json_data[counter % json_data_count],length);
        
        // Increment counter
        counter++;
        
        // Toggle LED every 10 iterations
        if(counter % 10 == 0) {
            led = !led; // Toggle LED for status change
        }
        
        ThisThread::sleep_for(1000ms); // 1 second delay
    }
}
